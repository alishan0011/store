<!-- Main Container -->
<div class="max-w-7xl mx-auto mt-10 p-4 sm:p-6 bg-white rounded-2xl shadow-lg">
  <!-- Dashboard Header -->
  <div class="mb-6 text-center">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">Admin Dashboard</h1>
    <p class="text-sm text-gray-500 mt-1">Manage users, videos, and announcements efficiently</p>
  </div>

  <!-- Navigation Tabs -->
  <div class="border-b border-gray-200 mb-6 overflow-x-auto">
    <nav class="flex space-x-4 sm:space-x-6 min-w-[460px] sm:min-w-0">
      <button onclick="showTab('users', this)" class="tab-btn text-sm border-b-2 px-3 py-2 font-medium text-gray-500 hover:text-blue-600 hover:border-blue-600 transition-all">Approved Users</button>
      <button onclick="showTab('requests', this)" class="tab-btn text-sm border-b-2 px-3 py-2 font-medium text-gray-500 hover:text-blue-600 hover:border-blue-600 transition-all">Pending Requests</button>
      <button onclick="showTab('categories', this)" class="tab-btn text-sm border-b-2 px-3 py-2 font-medium text-gray-500 hover:text-blue-600 hover:border-blue-600 transition-all">Categories</button>
      <button onclick="showTab('videos', this)" class="tab-btn text-sm border-b-2 px-3 py-2 font-medium text-gray-500 hover:text-blue-600 hover:border-blue-600 transition-all">Video Upload</button>
      <button onclick="showTab('announcements', this)" class="tab-btn text-sm border-b-2 px-3 py-2 font-medium text-gray-500 hover:text-blue-600 hover:border-blue-600 transition-all">Announcements</button>
    </nav>
  </div>

  <!-- Content Sections -->
  <div class="mt-4 space-y-10">

    <!-- Approved Users -->
    <div id="users" class="tab-content">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Approved Users</h2>
      <%= render 'admin/users/approved_users' %>
    </div>

    <!-- Pending Requests -->
    <div id="requests" class="tab-content hidden">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Pending User Requests</h2>
      <%= render 'admin/users/pending_users' %>
    </div>


    <!-- Pending Requests -->
    <div id="categories" class="tab-content hidden">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">List of Categories</h2>
      <%= render 'admin/categories/index' %>
    </div>



    <!-- Video Upload -->
    <div id="videos" class="tab-content hidden">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Upload Educational Videos</h2>
      <%#= render 'admin/videos/form' %>
    </div>

    <!-- Announcements -->
    <div id="announcements" class="tab-content hidden">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Make Announcements</h2>
      <%#= render 'admin/announcements/form' %>
    </div>
  </div>
</div>


<!-- JS: showTab must be defined BEFORE DOMContentLoaded -->
<script>
  function showTab(tabId, btn) {
    document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
    document.querySelectorAll('.tab-btn').forEach(button => {
      button.classList.remove('border-blue-600', 'text-blue-600');
      button.classList.add('text-gray-500');
    });

    const activeTab = document.getElementById(tabId);
    if (activeTab) {
      activeTab.classList.remove('hidden');
    }

    if (btn) {
      btn.classList.add('border-blue-600', 'text-blue-600');
      btn.classList.remove('text-gray-500');
    }
  }
</script>

<!-- DOM Ready -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const hash = window.location.hash.substring(1);
    const validTabs = ["users", "requests", "categories", "videos", "announcements"];
    const tabToShow = validTabs.includes(hash) ? hash : "users";

    const tabButtons = document.querySelectorAll(".tab-btn");
    const targetBtn = Array.from(tabButtons).find(btn =>
      btn.getAttribute("onclick")?.includes(`'${tabToShow}'`)
    );

    if (targetBtn) {
      showTab(tabToShow, targetBtn);
    } else {
      showTab("users", tabButtons[0]);
    }
  });
</script>











<section class="bg-gray-50">
  <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0">
    <a href="/" class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white">
      <!-- Optional Logo -->
    </a>
    <div class="w-full bg-white rounded-lg shadow dark:border sm:max-w-2xl xl:p-0 dark:bg-gray-800 dark:border-gray-700">
      <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
        <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">
          Create an account
        </h1>

      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { id: "signup-form", class: "space-y-6", multipart: true }) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>

          <!-- Grid 2-column for inputs -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Full Name -->
            <div>
              <%= f.label :name, "Full Name", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.text_field :name, placeholder: "John Doe", required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- Father's Name -->
            <div>
              <%= f.label :father_name, "Father's Name", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.text_field :father_name, placeholder: "Mr. Ali", required: true, class: "phone-input bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- Mobile Number -->
            <div class="relative">
              <%= f.label :cell_no, "Mobile Number", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.telephone_field :cell_no, id: "phone", required: true, placeholder: "+92 300 1234567", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- City -->
            <div>
              <%= f.label :city, "City", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.text_field :city, placeholder: "Lahore", required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- Country -->
            <div>
              <%= f.label :country, "Country", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.text_field :country, placeholder: "Pakistan", required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- Profile Image -->
            <div>
              <%= f.label :image, "Profile Image", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.file_field :image, required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white file:cursor-pointer file:rounded file:border-none file:bg-blue-600 file:text-white hover:file:bg-blue-700 transition" %>
            </div>

            <!-- Email -->
            <div>
              <%= f.label :email, "Email", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.email_field :email, id: "email", required: true, placeholder: "example@example.com",
                  class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>

            </div>

            <!-- Password -->
            <div>
              <%= f.label :password, "Password", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.password_field :password, placeholder: "••••••••", required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>

            <!-- Confirm Password -->
            <div>
              <%= f.label :password_confirmation, "Confirm Password", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
              <%= f.password_field :password_confirmation, placeholder: "••••••••", required: true, class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white" %>
            </div>
          </div>

          <!-- Terms and Conditions -->
          <div class="flex items-start">
            <%= check_box_tag :terms, nil, false, required: true, class: "w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600" %>
            <label for="terms" class="ml-2 text-sm text-gray-700 dark:text-gray-300">
              I accept the <a href="#" class="font-medium text-blue-600 hover:underline dark:text-blue-500">Terms & Conditions</a>
            </label>
          </div>

          <!-- Submit Button -->
          <%= f.submit "Create Account", class: "w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" %>
        <% end %>

        <!-- Already have account? -->
        <p class="text-sm font-light text-gray-500 dark:text-gray-400 text-center">
          Already have an account?
          <%= link_to "Login here", new_session_path(resource_name), class: "font-medium text-blue-600 hover:underline dark:text-blue-500" %>
        </p>
      </div>

      <script>
            document.addEventListener("DOMContentLoaded", function () {
              const form = document.getElementById("signup-form");
              const emailInput = document.getElementById("email");

              form.addEventListener("submit", function (e) {
                const email = emailInput.value.trim();
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

                if (!emailPattern.test(email)) {
                  alert("Please enter a valid email address.");
                  emailInput.focus();
                  e.preventDefault(); // Stop the form from submitting
                }
              });
            });
      </script>
    </div>
  </div>

</section>

